<div class="custom-audio">
  <audio #audio
         [src]="src"
         style="display: none;"
         (timeupdate)="updateProgress()"
         (ended)="onAudioEnded()">
  </audio>

  <button class="round-button" (click)="togglePlay()">
    <svg *ngIf="!isPlaying" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
      <path d="M7.75 14.0385L14.0385 10L7.75 5.9615V14.0385ZM10.0017 19.5C8.68775 19.5 7.45267 19.2507 6.2965 18.752C5.14033 18.2533 4.13467 17.5766 3.2795 16.7218C2.42433 15.8669 1.74725 14.8617 1.24825 13.706C0.749417 12.5503 0.5 11.3156 0.5 10.0017C0.5 8.68775 0.749333 7.45267 1.248 6.2965C1.74667 5.14033 2.42342 4.13467 3.27825 3.2795C4.13308 2.42433 5.13833 1.74725 6.294 1.24825C7.44967 0.749417 8.68442 0.5 9.99825 0.5C11.3123 0.5 12.5473 0.749333 13.7035 1.248C14.8597 1.74667 15.8653 2.42342 16.7205 3.27825C17.5757 4.13308 18.2528 5.13833 18.7518 6.294C19.2506 7.44967 19.5 8.68442 19.5 9.99825C19.5 11.3123 19.2507 12.5473 18.752 13.7035C18.2533 14.8597 17.5766 15.8653 16.7218 16.7205C15.8669 17.5757 14.8617 18.2528 13.706 18.7518C12.5503 19.2506 11.3156 19.5 10.0017 19.5ZM10 18C12.2333 18 14.125 17.225 15.675 15.675C17.225 14.125 18 12.2333 18 10C18 7.76667 17.225 5.875 15.675 4.325C14.125 2.775 12.2333 2 10 2C7.76667 2 5.875 2.775 4.325 4.325C2.775 5.875 2 7.76667 2 10C2 12.2333 2.775 14.125 4.325 15.675C5.875 17.225 7.76667 18 10 18Z" fill="#343A40"/>
    </svg>
    <svg *ngIf="isPlaying" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M6.25 13.75H13.75V6.25H6.25V13.75ZM10.0017 19.5C8.68775 19.5 7.45267 19.2507 6.2965 18.752C5.14033 18.2533 4.13467 17.5766 3.2795 16.7218C2.42433 15.8669 1.74725 14.8617 1.24825 13.706C0.749417 12.5503 0.5 11.3156 0.5 10.0017C0.5 8.68775 0.749333 7.45267 1.248 6.2965C1.74667 5.14033 2.42342 4.13467 3.27825 3.2795C4.13308 2.42433 5.13833 1.74725 6.294 1.24825C7.44967 0.749417 8.68442 0.5 9.99825 0.5C11.3123 0.5 12.5473 0.749333 13.7035 1.248C14.8597 1.74667 15.8653 2.42342 16.7205 3.27825C17.5757 4.13308 18.2528 5.13833 18.7518 6.294C19.2506 7.44967 19.5 8.68442 19.5 9.99825C19.5 11.3123 19.2507 12.5473 18.752 13.7035C18.2533 14.8597 17.5766 15.8653 16.7218 16.7205C15.8669 17.5757 14.8617 18.2528 13.706 18.7518C12.5503 19.2506 11.3156 19.5 10.0017 19.5ZM10 18C12.2333 18 14.125 17.225 15.675 15.675C17.225 14.125 18 12.2333 18 10C18 7.76667 17.225 5.875 15.675 4.325C14.125 2.775 12.2333 2 10 2C7.76667 2 5.875 2.775 4.325 4.325C2.775 5.875 2 7.76667 2 10C2 12.2333 2.775 14.125 4.325 15.675C5.875 17.225 7.76667 18 10 18Z" fill="#343A40"/>
    </svg>
  </button>

  <button class="progress-bar" (click)="seekAudio($event)">
    <div class="progress" [style.width.%]="progress"></div>
  </button>

  <div class="volume-container">
    <button class="volume-button" (click)="toggleMute()">
      <svg *ngIf="!isMuted" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
        <path d="M11.0386 17.1098V15.5598C12.4809 15.101 13.6427 14.2677 14.5241 13.0598C15.4056 11.8522 15.8463 10.4907 15.8463 8.97532C15.8463 7.45999 15.4056 6.09849 14.5241 4.89082C13.6427 3.68299 12.4809 2.84965 11.0386 2.39082V0.84082C12.9001 1.33949 14.4167 2.33882 15.5886 3.83882C16.7602 5.33882 17.3461 7.05099 17.3461 8.97532C17.3461 10.8997 16.7602 12.6118 15.5886 14.1118C14.4167 15.6118 12.9001 16.6112 11.0386 17.1098ZM0.654053 11.5003V6.50032H4.36555L8.6538 2.21207V15.7886L4.36555 11.5003H0.654053ZM11.0386 12.6541V5.29657C11.7129 5.66324 12.2341 6.17957 12.6021 6.84557C12.9699 7.51157 13.1538 8.22982 13.1538 9.00032C13.1538 9.76049 12.9682 10.4678 12.5971 11.1223C12.2259 11.7768 11.7064 12.2874 11.0386 12.6541ZM7.1538 5.85032L5.0038 8.00032H2.1538V10.0003H5.0038L7.1538 12.1503V5.85032Z" fill="#343A40"/>
      </svg>
      <mat-icon *ngIf="isMuted">volume_off</mat-icon>
    </button>
    <input type="range" min="0" max="1" step="0.1"
           [(ngModel)]="volume"
           (input)="changeVolume($event)">
  </div>

  <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
    <svg width="4" height="16" viewBox="0 0 4 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2 15.269C1.5875 15.269 1.23442 15.1221 0.94075 14.8282C0.646917 14.5346 0.5 14.1815 0.5 13.769C0.5 13.3565 0.646917 13.0033 0.94075 12.7095C1.23442 12.4158 1.5875 12.269 2 12.269C2.4125 12.269 2.76558 12.4158 3.05925 12.7095C3.35308 13.0033 3.5 13.3565 3.5 13.769C3.5 14.1815 3.35308 14.5346 3.05925 14.8282C2.76558 15.1221 2.4125 15.269 2 15.269ZM2 9.49972C1.5875 9.49972 1.23442 9.3528 0.94075 9.05897C0.646917 8.7653 0.5 8.41222 0.5 7.99972C0.5 7.58722 0.646917 7.23414 0.94075 6.94047C1.23442 6.64664 1.5875 6.49972 2 6.49972C2.4125 6.49972 2.76558 6.64664 3.05925 6.94047C3.35308 7.23414 3.5 7.58722 3.5 7.99972C3.5 8.41222 3.35308 8.7653 3.05925 9.05897C2.76558 9.3528 2.4125 9.49972 2 9.49972ZM2 3.73047C1.5875 3.73047 1.23442 3.58364 0.94075 3.28997C0.646917 2.99614 0.5 2.64297 0.5 2.23047C0.5 1.81797 0.646917 1.46489 0.94075 1.17122C1.23442 0.877386 1.5875 0.730469 2 0.730469C2.4125 0.730469 2.76558 0.877386 3.05925 1.17122C3.35308 1.46489 3.5 1.81797 3.5 2.23047C3.5 2.64297 3.35308 2.99614 3.05925 3.28997C2.76558 3.58364 2.4125 3.73047 2 3.73047Z" fill="#343A40"/>
    </svg>
  </button>
  <mat-menu #menu="matMenu">
    <a mat-menu-item [href]="src">
      <mat-icon>download</mat-icon>
      <span>Завантажити</span>
    </a>
  </mat-menu>
</div>
